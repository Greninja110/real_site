function initTypingAnimation(){const animatedText=document.getElementById("animated-text"),textContent=document.getElementById("text-content"),cursor=document.getElementById("cursor");if(!animatedText||!textContent||!cursor)return;const messages=["Welcomes You To The Website","Says Hello"];let messageIndex=0,charIndex=0,isDeleting=!1,typingSpeed=100;setTimeout((function type(){const currentMessage=messages[messageIndex];isDeleting?(textContent.textContent=currentMessage.substring(0,charIndex-1),charIndex--,typingSpeed=50):(textContent.textContent=currentMessage.substring(0,charIndex+1),charIndex++,typingSpeed=100),isDeleting||charIndex!==currentMessage.length?isDeleting&&0===charIndex&&(isDeleting=!1,messageIndex=(messageIndex+1)%messages.length,typingSpeed=500):(isDeleting=!0,typingSpeed=1e3),setTimeout(type,typingSpeed)}),1e3)}function initScrollAnimations(){if("IntersectionObserver"in window){const elementsToAnimate=document.querySelectorAll(".animate-on-scroll"),observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting&&(entry.target.classList.add("animated"),observer.unobserve(entry.target))}))}),{root:null,threshold:.1,rootMargin:"0px 0px -50px 0px"});elementsToAnimate.forEach((element=>{observer.observe(element)}))}else{document.querySelectorAll(".animate-on-scroll").forEach((element=>{element.classList.add("animated")}))}}function initParallaxEffect(){const parallaxElements=document.querySelectorAll(".parallax");window.addEventListener("scroll",(()=>{const scrollY=window.scrollY;parallaxElements.forEach((element=>{const speed=element.getAttribute("data-speed")||.2;element.style.transform=`translateY(${scrollY*speed}px)`}))}))}function animateSkillBars(){document.querySelectorAll(".skill-progress").forEach((bar=>{const width=bar.style.width;bar.style.width="0",setTimeout((()=>{bar.style.transition="width 1s ease-in-out",bar.style.width=width}),100)}))}function initSectionAnimations(sectionId){const section=document.getElementById(sectionId);if(section){"home"===sectionId&&animateSkillBars();section.querySelectorAll(".animate-on-scroll").forEach((element=>{element.classList.add("animated")}))}}function initContactForm(){const contactForm=document.getElementById("contact-form"),formStatus=document.getElementById("form-status");contactForm&&contactForm.addEventListener("submit",(function(e){e.preventDefault();const name=document.getElementById("name").value.trim(),email=document.getElementById("email").value.trim(),message=document.getElementById("message").value.trim();if(!name||!email||!message)return formStatus.textContent="Please fill in all fields",void(formStatus.className="form-status error");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email))return formStatus.textContent="Please enter a valid email address",void(formStatus.className="form-status error");const submitBtn=contactForm.querySelector(".submit-btn");submitBtn.classList.add("loading");const submitText=submitBtn.querySelector(".submit-text"),submitLoader=submitBtn.querySelector(".submit-loader");submitText&&submitLoader&&(submitText.style.display="none",submitLoader.style.display="inline-block"),formStatus.textContent="",formStatus.className="form-status",setTimeout((()=>{formStatus.textContent="Your message has been sent successfully! I will get back to you soon.",formStatus.className="form-status success",contactForm.reset(),submitBtn.classList.remove("loading"),submitText&&submitLoader&&(submitText.style.display="inline-block",submitLoader.style.display="none")}),1500)}))}function initCustomTimeline(){const timelineBlocks=document.querySelectorAll(".timeline-block");if(timelineBlocks.length>0){const offset=.8;hideBlocks(timelineBlocks,offset),window.addEventListener("scroll",(function(){window.requestAnimationFrame?window.requestAnimationFrame((function(){showBlocks(timelineBlocks,offset)})):setTimeout((function(){showBlocks(timelineBlocks,offset)}),100)})),window.addEventListener("resize",(function(){window.requestAnimationFrame?window.requestAnimationFrame((function(){showBlocks(timelineBlocks,offset)})):setTimeout((function(){showBlocks(timelineBlocks,offset)}),100)}))}const yearMarkers=document.querySelectorAll(".timeline-year-marker");yearMarkers.length>0&&(yearMarkers.forEach((marker=>{marker.addEventListener("click",(function(){const year=this.getAttribute("data-year"),yearSection=document.getElementById(`timeline-year-${year}`);yearSection&&(yearMarkers.forEach((m=>m.classList.remove("active"))),this.classList.add("active"),yearSection.scrollIntoView({behavior:"smooth"}))}))})),document.querySelector(".timeline-year-marker.active")||yearMarkers[0].classList.add("active"))}function hideBlocks(blocks,offset){blocks.forEach((function(block){block.getBoundingClientRect().top>window.innerHeight*offset?block.classList.remove("visible"):block.classList.add("visible")}))}function showBlocks(blocks,offset){blocks.forEach((function(block){!block.classList.contains("visible")&&block.getBoundingClientRect().top<=window.innerHeight*offset&&block.classList.add("visible")}))}function addTimelineEntry(month,year,icon,title,description,buttonText=null,buttonLink="#"){const timeline=document.querySelector(".timeline");if(!timeline)return;let yearSection=document.getElementById(`timeline-year-${year}`);if(!yearSection){const yearMarkerContainer=document.querySelector(".timeline-year-markers");if(yearMarkerContainer){if(!Array.from(yearMarkerContainer.querySelectorAll(".timeline-year-marker")).some((marker=>marker.getAttribute("data-year")===year))){const newMarker=document.createElement("div");newMarker.className="timeline-year-marker",newMarker.setAttribute("data-year",year),newMarker.textContent=year,yearMarkerContainer.appendChild(newMarker),newMarker.addEventListener("click",(function(){const year=this.getAttribute("data-year"),yearSection=document.getElementById(`timeline-year-${year}`);yearSection&&(document.querySelectorAll(".timeline-year-marker").forEach((m=>m.classList.remove("active"))),this.classList.add("active"),yearSection.scrollIntoView({behavior:"smooth"}))}))}}yearSection=document.createElement("div"),yearSection.id=`timeline-year-${year}`,yearSection.className="timeline-year-section";const yearSections=Array.from(document.querySelectorAll(".timeline-year-section"));if(yearSections.length>0){let inserted=!1;for(let i=0;i<yearSections.length;i++){const sectionYear=yearSections[i].id.replace("timeline-year-","");if(parseInt(year)<parseInt(sectionYear)){timeline.insertBefore(yearSection,yearSections[i]),inserted=!0;break}}inserted||timeline.appendChild(yearSection)}else timeline.appendChild(yearSection)}const timelineBlock=document.createElement("div");timelineBlock.className="timeline-block",timelineBlock.setAttribute("data-month",month),timelineBlock.setAttribute("data-year",year),timelineBlock.setAttribute("data-icon",icon);let contentHTML=`\n        <div class="timeline-date-marker">\n            <span class="month">${month}</span>\n            <span class="year">${year}</span>\n        </div>\n        <div class="timeline-content">\n            <h3 class="timeline-title">${title}</h3>\n            <p class="timeline-description">${description}</p>\n    `;buttonText&&(contentHTML+=`<a href="${buttonLink}" class="timeline-btn">${buttonText}</a>`),contentHTML+="</div>",timelineBlock.innerHTML=contentHTML,yearSection.appendChild(timelineBlock),setTimeout((()=>{hideBlocks([timelineBlock],.8),showBlocks([timelineBlock],.8)}),100)}function initContactForm(){const contactForm=document.getElementById("contact-form"),formStatus=document.getElementById("form-status");contactForm&&contactForm.addEventListener("submit",(function(e){e.preventDefault();const name=document.getElementById("name").value,email=document.getElementById("email").value,message=document.getElementById("message").value;if(!name||!email||!message)return formStatus.textContent="Please fill in all fields",void(formStatus.className="form-status error");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email))return formStatus.textContent="Please enter a valid email address",void(formStatus.className="form-status error");const submitBtn=contactForm.querySelector(".submit-btn");submitBtn.classList.add("loading");const submitText=submitBtn.querySelector(".submit-text"),submitLoader=submitBtn.querySelector(".submit-loader");submitText&&submitLoader&&(submitText.style.display="none",submitLoader.style.display="inline-block"),formStatus.textContent="",formStatus.className="form-status";const formData={from_name:name,from_email:email,message:message};"undefined"!=typeof emailjs&&emailjs.init&&emailjs.send?sendWithEmailJS(formData,submitBtn,formStatus):simulateFormSubmission(formData,submitBtn,formStatus)}))}function sendWithEmailJS(formData,submitBtn,formStatus){if(!window.emailjsInitialized)try{emailjs.init("a6ZeuYQxMwfD9FtGg"),window.emailjsInitialized=!0}catch(error){return void showError(submitBtn,formStatus,"Failed to initialize email service. Please try again later.")}emailjs.send("service_id","template_contact",formData).then((function(response){formStatus.textContent="Your message has been sent successfully!",formStatus.className="form-status success",document.getElementById("contact-form").reset(),resetSubmitButton(submitBtn)})).catch((function(error){showError(submitBtn,formStatus,"Failed to send message. Please try again later.")}))}function simulateFormSubmission(formData,submitBtn,formStatus){setTimeout((()=>{formStatus.textContent="Your message has been sent successfully! (Simulated)",formStatus.className="form-status success",document.getElementById("contact-form").reset(),resetSubmitButton(submitBtn)}),1500)}function resetSubmitButton(submitBtn){submitBtn.classList.remove("loading");const submitText=submitBtn.querySelector(".submit-text"),submitLoader=submitBtn.querySelector(".submit-loader");submitText&&submitLoader&&(submitText.style.display="inline-block",submitLoader.style.display="none")}function showError(submitBtn,formStatus,message){formStatus.textContent=message,formStatus.className="form-status error",resetSubmitButton(submitBtn)}function setupLogger(){const contactFormLogs=[];if(window.originalConsoleLog||(window.originalConsoleLog=console.log,window.originalConsoleError=console.error,window.originalConsoleWarn=console.warn),console.log=function(){const args=Array.from(arguments);let message;try{message=args.map((arg=>"object"==typeof arg&&null!==arg?JSON.stringify(arg):String(arg))).join(" ")}catch(e){message=args.join(" ")}const timestamp=(new Date).toISOString();contactFormLogs.push(`[${timestamp}] [LOG] ${message}`),contactFormLogs.length>1e3&&contactFormLogs.splice(0,contactFormLogs.length-500),window.originalConsoleLog.apply(console,arguments)},console.error=function(){const message=Array.from(arguments).join(" "),timestamp=(new Date).toISOString();contactFormLogs.push(`[${timestamp}] [ERROR] ${message}`),window.originalConsoleError.apply(console,arguments)},console.warn=function(){const message=Array.from(arguments).join(" "),timestamp=(new Date).toISOString();contactFormLogs.push(`[${timestamp}] [WARN] ${message}`),window.originalConsoleWarn.apply(console,arguments)},window.downloadContactFormLogs=function(){const logText=contactFormLogs.join("\n"),blob=new Blob([logText],{type:"text/plain"}),url=URL.createObjectURL(blob),a=document.createElement("a");a.href=url,a.download="contact-form-logs.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(url)},"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname){const debugBtn=document.createElement("button");debugBtn.textContent="Download Form Logs",debugBtn.style.position="fixed",debugBtn.style.bottom="10px",debugBtn.style.left="10px",debugBtn.style.zIndex="9999",debugBtn.style.fontSize="12px",debugBtn.style.padding="5px 10px",debugBtn.style.background="#333",debugBtn.style.color="#fff",debugBtn.style.border="none",debugBtn.style.borderRadius="4px",debugBtn.style.cursor="pointer",debugBtn.style.opacity="0.6",debugBtn.addEventListener("mouseenter",(()=>{debugBtn.style.opacity="1"})),debugBtn.addEventListener("mouseleave",(()=>{debugBtn.style.opacity="0.6"})),debugBtn.addEventListener("click",window.downloadContactFormLogs),setTimeout((()=>{document.body.appendChild(debugBtn)}),1e3)}}function initPortfolio(){initNavigation(),initProjects(),initResumeTabs(),initResume(),initSkillTooltips(),setAnimationOrder()}function updateURLToMatchVisibleSection(){const currentSectionId=localStorage.getItem("activeSectionId");currentSectionId&&window.location.hash!==`#${currentSectionId}`&&history.replaceState(null,null,`#${currentSectionId}`)}function initNavigation(){const navLinks=document.querySelectorAll(".nav-link"),body=document.body,sections=document.querySelectorAll(".section");let sectionToActivateId="home";const hash=window.location.hash.substring(1),storedSectionId=localStorage.getItem("activeSectionId");hash&&document.getElementById(hash)?(sectionToActivateId=hash,localStorage.setItem("activeSectionId",hash)):storedSectionId&&document.getElementById(storedSectionId)?(sectionToActivateId=storedSectionId,window.location.hash!==`#${storedSectionId}`&&history.replaceState(null,null,`#${storedSectionId}`)):localStorage.setItem("activeSectionId","home"),sections.forEach((section=>section.classList.remove("active"))),navLinks.forEach((link=>link.classList.remove("active")));const targetSectionToActivate=document.getElementById(sectionToActivateId);if(targetSectionToActivate){targetSectionToActivate.classList.add("active"),navLinks.forEach((navLink=>navLink.classList.remove("active")));const correspondingNavLink=document.querySelector(`.nav-link[data-section="${sectionToActivateId}"]`);correspondingNavLink&&correspondingNavLink.classList.add("active"),body.classList.contains("single-page-mode")&&setTimeout((()=>{const headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height").trim())||60;if("none"!==getComputedStyle(targetSectionToActivate).display){const sectionTop=targetSectionToActivate.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:sectionTop,behavior:"auto"})}}),200)}else{sectionToActivateId="home";const homeSection=document.getElementById("home");if(homeSection){homeSection.classList.add("active");const homeLink=document.querySelector('.nav-link[data-section="home"]');homeLink&&homeLink.classList.add("active"),localStorage.setItem("activeSectionId","home"),body.classList.contains("single-page-mode")&&setTimeout((()=>{const headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height").trim())||60;if("none"!==getComputedStyle(homeSection).display){const sectionTop=homeSection.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:sectionTop,behavior:"auto"})}}),200)}}navLinks.forEach(((link,index)=>{link.style.setProperty("--nav-index",index),link.addEventListener("click",(function(e){e.preventDefault();const clickedSectionId=this.getAttribute("data-section"),clickedTargetSection=document.getElementById(clickedSectionId);if(!clickedTargetSection)return;document.querySelector(".nav-link.active");if(navLinks.forEach((navLink=>navLink.classList.remove("active"))),this.classList.add("active"),localStorage.setItem("activeSectionId",clickedSectionId),body.classList.contains("single-page-mode")){document.body.classList.add("scrolling-to-section");const headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height").trim())||60,sectionTop=clickedTargetSection.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:sectionTop,behavior:"smooth"}),setTimeout((()=>{document.body.classList.remove("scrolling-to-section"),navLinks.forEach((navLink=>{navLink.classList.toggle("active",navLink.getAttribute("data-section")===clickedSectionId)}))}),800),window.location.hash!==`#${clickedSectionId}`&&history.pushState(null,null,`#${clickedSectionId}`)}else sections.forEach((s=>{s.classList.remove("active"),s.style.display="none",s.style.opacity="0"})),clickedTargetSection.classList.add("active"),clickedTargetSection.style.display="block",clickedTargetSection.style.opacity="1",history.pushState(null,null,`#${clickedSectionId}`);const sidebar=document.querySelector(".sidebar");if(sidebar&&sidebar.classList.contains("open")&&window.innerWidth<=767){sidebar.classList.remove("open");const mobileToggle=document.getElementById("mobile-toggle");mobileToggle&&mobileToggle.classList.remove("open")}}))})),setTimeout((()=>{window.syncNavigationWithHash&&window.syncNavigationWithHash()}),500)}function closeProjectModal(){const modal=document.getElementById("project-modal");if(!modal)return;document.body.style.top;modal.style.display="none",modal.style.alignItems="",modal.style.justifyContent="",(projectsRect.bottom<0||projectsRect.top>viewportHeight)&&(modal.classList.add("closing"),setTimeout((()=>{closeProjectModal(),modal.classList.remove("closing")}),300)),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.removeAttribute("data-modal-opening")}function initProjects(){const filterButtons=document.querySelectorAll(".filter-btn"),projectCards=document.querySelectorAll(".project-card");filterButtons.forEach((button=>{button.addEventListener("click",(function(){const filter=this.getAttribute("data-filter");filterButtons.forEach((btn=>btn.classList.remove("active"))),this.classList.add("active");projectCards.forEach((card=>{const categories=card.getAttribute("data-category").split(" ");"all"===filter||categories.includes(filter)?card.style.display="block":card.style.display="none"})),setAnimationOrder()}))}));const modal=document.getElementById("project-modal"),modalTitle=document.getElementById("modal-project-title"),modalDescription=document.getElementById("modal-project-description"),modalFunctionality=document.getElementById("modal-project-functionality"),modalImage=document.getElementById("modal-project-image"),modalStatus=document.getElementById("modal-project-status"),modalGithub=document.getElementById("modal-project-github"),modalDemo=document.getElementById("modal-project-demo"),closeModal=document.querySelector(".close-modal"),projectData={"Object Detection and Recognition":{title:"Object Detection and Recognition",description:"A machine learning model that can recognize and classify objects in images with high accuracy. Built using TensorFlow and Keras, this project demonstrates deep learning techniques including convolutional neural networks (CNNs).",functionality:"The system can identify over 1,000 different object categories with 95% accuracy. It includes a user-friendly web interface for uploading images and receiving real-time classification results. The model was trained on a dataset of over 100,000 images and fine-tuned for optimal performance.",image:"assets/images/projects/object.png",github:"https://github.com/Greninja110/object-detection",demo:"#",status:"completed"},"Attendance Management System For a College":{title:"Attendance Management System For a College",description:"A fully-featured attendance management system built with Django, JavaScript, and MySQL. This project includes user authentication, student and faculty management, attendance tracking, and reporting.",functionality:"Faculty can mark attendance, generate reports, and track student performance. Students can view their attendance records and get notifications for low attendance. Administrators can manage courses, faculty, and student data through a dashboard.",image:"assets/images/projects/attend.png",github:"https://github.com/Greninja110/attendance-system",demo:"#",status:"ongoing"},ARCam:{title:"ARCam",description:"A mobile application for augmented reality camera experiences. Built using Kotlin and ARCore, this app overlays digital information onto the real world through the camera view.",functionality:"The app allows users to identify objects in real-time, place virtual objects in the real world, and interact with AR elements. It uses machine learning for object recognition and ARCore for spatial tracking and rendering.",image:"assets/images/projects/ar.png",github:"https://github.com/Greninja110/arcam",demo:"#",status:"ongoing"},"AI-Powered Network Intrusion Detection System":{title:"AI-Powered Network Intrusion Detection System",description:"A network security system that uses machine learning to detect and prevent intrusions. Built with Python, TensorFlow, and network monitoring tools.",functionality:"The system analyzes network traffic in real-time to identify suspicious patterns and potential attacks. It uses a combination of rule-based detection and machine learning models trained on network traffic datasets to identify and flag anomalies.",image:"assets/images/projects/nids.png",github:"https://github.com/Greninja110/ai-nids",demo:"#",status:"ongoing"}},viewDetailsButtons=document.querySelectorAll(".view-details-btn");let isOverModal=!1;const modalContent=modal.querySelector(".modal-content");modal.querySelector(".modal-body");modalContent.addEventListener("mouseenter",(()=>{isOverModal=!0,document.body.style.overflow="hidden"})),modalContent.addEventListener("mouseleave",(()=>{isOverModal=!1,document.body.style.overflow=""}));const projectsSection=document.getElementById("projects"),checkModalVisibility=()=>{if("flex"===modal.style.display){const projectsRect=projectsSection.getBoundingClientRect(),viewportHeight=window.innerHeight;(projectsRect.bottom<0||projectsRect.top>viewportHeight)&&closeProjectModal()}};let scrollTimeout;const throttledCheck=()=>{clearTimeout(scrollTimeout),scrollTimeout=setTimeout(checkModalVisibility,100)};window.addEventListener("scroll",throttledCheck);const originalClose=closeProjectModal;window.closeProjectModal=function(){window.removeEventListener("scroll",throttledCheck),modalContent&&(modalContent.removeEventListener("mouseenter",(()=>{})),modalContent.removeEventListener("mouseleave",(()=>{}))),document.body.style.overflow="",originalClose()},viewDetailsButtons.forEach((button=>{button.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),document.body.setAttribute("data-modal-opening","true");const projectTitle=this.parentElement.querySelector("h3").textContent,project=projectData[projectTitle];if(project){modalTitle.textContent=project.title,modalDescription.textContent=project.description,modalFunctionality.textContent=project.functionality,modalImage.src=project.image,modalImage.alt=project.title,project.github&&"#"!==project.github?(modalGithub.style.display="inline-flex",modalGithub.href=project.github):modalGithub.style.display="none",project.demo&&"#"!==project.demo?(modalDemo.style.display="inline-flex",modalDemo.href=project.demo):modalDemo.style.display="none",modalStatus&&(modalStatus.textContent=project.status.charAt(0).toUpperCase()+project.status.slice(1),modalStatus.classList.remove("completed","ongoing","planned"),modalStatus.classList.add(project.status)),document.body.classList.add("modal-open"),modal.style.display="flex",modal.style.alignItems="center",modal.style.justifyContent="center";const modalContent=modal.querySelector(".modal-content");modalContent&&(modalContent.style.transform="",modalContent.style.position="relative",modalContent.style.top="",modalContent.style.left="",modalContent.style.maxHeight="90vh"),setTimeout((()=>{const modalContent=modal.querySelector(".modal-content");modalContent&&(modalContent.scrollTop=0),setTimeout((()=>{document.body.removeAttribute("data-modal-opening")}),100)}),100)}}))})),closeModal&&closeModal.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),closeProjectModal()})),window.addEventListener("click",(function(e){e.target===modal&&closeProjectModal()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&modal&&"flex"===modal.style.display&&closeProjectModal()}))}function initResume(){const resumeIframe=document.getElementById("resume-iframe"),viewResumeBtn=document.querySelector(".view-resume-btn");document.querySelector(".download-resume-btn");viewResumeBtn&&resumeIframe&&viewResumeBtn.addEventListener("click",(function(e){""===resumeIframe.src&&(e.preventDefault(),resumeIframe.src=this.href)}))}function setAnimationOrder(){document.querySelectorAll('.project-card[style*="display: block"], .project-card:not([style*="display: none"])').forEach(((project,index)=>{project.style.setProperty("--animation-order",index)}));document.querySelectorAll(".timeline-item").forEach(((item,index)=>{item.style.setProperty("--animation-order",index)}))}function initSkillTooltips(){document.querySelectorAll(".skill-item").forEach((item=>{const skillBar=item.querySelector(".skill-bar"),skillProgress=item.querySelector(".skill-progress");if(!skillBar||!skillProgress)return;const progressStyle=skillProgress.style.width;if(!progressStyle)return;const progressPercentage=parseInt(progressStyle);let skillLevel="";skillLevel=progressPercentage<20?"Basic Knowledge":progressPercentage>=20&&progressPercentage<40?"Beginner":progressPercentage>=40&&progressPercentage<60?"Intermediate":progressPercentage>=60&&progressPercentage<80?"Advanced":"Complete Knowledge"}))}function initResumeTabs(){const resumeTabs=document.querySelectorAll(".resume-tab"),resumeContents=document.querySelectorAll(".resume-content");resumeTabs.length>0&&resumeTabs.forEach((tab=>{tab.addEventListener("click",(function(){const resumeType=this.getAttribute("data-resume");resumeTabs.forEach((t=>t.classList.remove("active"))),this.classList.add("active"),resumeContents.forEach((content=>{content.classList.remove("active")}));const targetContent=document.getElementById(`${resumeType}-resume`);targetContent&&targetContent.classList.add("active")}))}))}document.addEventListener("DOMContentLoaded",(function(){initTypingAnimation()})),window.initScrollAnimations=initScrollAnimations,window.initParallaxEffect=initParallaxEffect,window.initSectionAnimations=initSectionAnimations,document.addEventListener("DOMContentLoaded",(function(){initContactForm()})),window.initContactForm=initContactForm,document.addEventListener("DOMContentLoaded",(function(){initCustomTimeline()})),window.addTimelineEntry=addTimelineEntry,window.initCustomTimeline=initCustomTimeline,document.addEventListener("DOMContentLoaded",(function(){initContactForm(),setupLogger()})),window.initContactForm=initContactForm,window.downloadContactFormLogs=window.downloadContactFormLogs||function(){},document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){try{initPortfolio()}catch(error){}}),100)})),window.addEventListener("layoutChanged",updateURLToMatchVisibleSection),window.initPortfolio=initPortfolio,window.setAnimationOrder=setAnimationOrder;let observer,lastUpdatedElement=null,originalLastUpdatedParent=null,mainContentElement=null;function debounce(func,wait){let timeout;return function(...args){clearTimeout(timeout),timeout=setTimeout((()=>{clearTimeout(timeout),func(...args)}),wait)}}function syncNavigationWithHash(){const hash=window.location.hash.substring(1);hash&&document.getElementById(hash)&&(localStorage.setItem("activeSectionId",hash),document.querySelectorAll(".nav-link").forEach((link=>{const shouldBeActive=link.getAttribute("data-section")===hash;link.classList.toggle("active",shouldBeActive)})))}function determineInitialLayoutMode(){const body=document.body,isMobile=window.innerWidth<=767;let navigationMode=localStorage.getItem("navigationMode");isMobile||"singlePage"===navigationMode?body.classList.contains("single-page-mode")||body.classList.add("single-page-mode"):"multiPage"===navigationMode?body.classList.contains("single-page-mode")&&body.classList.remove("single-page-mode"):(body.classList.contains("single-page-mode")&&body.classList.remove("single-page-mode"),localStorage.setItem("navigationMode","multiPage"));const hash=window.location.hash.substring(1);hash&&document.getElementById(hash)&&(localStorage.setItem("activeSectionId",hash),body.classList.contains("single-page-mode")||setTimeout((()=>{document.querySelectorAll(".section").forEach((section=>{section.classList.toggle("active",section.id===hash),section.style.display=section.id===hash?"block":"none",section.style.opacity=section.id===hash?"1":"0"})),document.querySelectorAll(".nav-link").forEach((link=>{link.classList.toggle("active",link.getAttribute("data-section")===hash)}))}),50))}function initMobileNav(){const mobileToggle=document.getElementById("mobile-toggle"),sidebar=document.querySelector(".sidebar"),body=document.body;mobileToggle&&sidebar&&(handleDeviceLayout(),mobileToggle.addEventListener("click",(function(){if(window.innerWidth<=767)sidebar.classList.toggle("open");else{let currentSectionId;const storedSectionId=localStorage.getItem("activeSectionId");if(storedSectionId&&document.getElementById(storedSectionId))currentSectionId=storedSectionId;else if(body.classList.contains("single-page-mode")){const activeNavLink=document.querySelector(".nav-link.active");if(activeNavLink)currentSectionId=activeNavLink.getAttribute("data-section");else{const sections=document.querySelectorAll(".section"),headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||60;let mostVisibleSection=null,maxVisibility=0;sections.forEach((section=>{const rect=section.getBoundingClientRect(),visibility=Math.min(rect.bottom,window.innerHeight)-Math.max(rect.top,headerHeight);visibility>maxVisibility&&(maxVisibility=visibility,mostVisibleSection=section)})),currentSectionId=mostVisibleSection?mostVisibleSection.id:"home"}}else{const activeSection=document.querySelector(".section.active");currentSectionId=activeSection?activeSection.id:"home"}localStorage.setItem("activeSectionId",currentSectionId),body.classList.toggle("single-page-mode");const newMode=body.classList.contains("single-page-mode")?"singlePage":"multiPage";if(localStorage.setItem("navigationMode",newMode),handleDeviceLayout(),body.classList.contains("single-page-mode")){document.querySelectorAll(".section").forEach((section=>{section.style.display="block",section.style.opacity="1"})),document.querySelectorAll(".nav-link").forEach((link=>{link.classList.toggle("active",link.getAttribute("data-section")===currentSectionId)}));const targetSection=document.getElementById(currentSectionId);targetSection&&setTimeout((()=>{const headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||60,sectionTop=targetSection.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:sectionTop,behavior:"smooth"})}),200),setupIntersectionObserver()}else{removeIntersectionObserver();const targetSectionId=currentSectionId||localStorage.getItem("activeSectionId")||"home";document.querySelectorAll(".section").forEach((section=>{const isActive=section.id===targetSectionId;section.classList.toggle("active",isActive),section.style.display=isActive?"block":"none",section.style.opacity=isActive?"1":"0"})),document.querySelectorAll(".nav-link").forEach((link=>{const shouldBeActive=link.getAttribute("data-section")===targetSectionId;link.classList.toggle("active",shouldBeActive)})),localStorage.setItem("activeSectionId",targetSectionId),history.replaceState(null,null,`#${targetSectionId}`)}}})),document.querySelectorAll(".nav-link").forEach((link=>{link.addEventListener("click",(function(e){if("true"===document.body.getAttribute("data-modal-opening"))return e.preventDefault(),void e.stopPropagation();const modal=document.getElementById("project-modal");if(modal&&"flex"===modal.style.display)return;e.preventDefault();const sectionId=this.getAttribute("data-section"),targetSection=document.getElementById(sectionId);if(targetSection)if(document.querySelectorAll(".nav-link").forEach((navLink=>navLink.classList.remove("active"))),this.classList.add("active"),body.classList.contains("single-page-mode")){const headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||60,sectionTop=targetSection.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:sectionTop,behavior:"smooth"}),window.innerWidth<=767&&sidebar&&sidebar.classList.contains("open")&&sidebar.classList.remove("open")}else document.querySelectorAll(".section").forEach((s=>{s.classList.remove("active"),s.style.display="none",s.style.opacity="0"})),targetSection.classList.add("active"),targetSection.style.display="block",targetSection.style.opacity="1",history.pushState(null,null,`#${sectionId}`)}))})))}function handleDeviceLayout(){const body=document.body,sidebar=document.querySelector(".sidebar"),content=document.querySelector(".content"),sidebarFooter=document.querySelector(".sidebar-footer"),sidebarHeader=document.querySelector(".sidebar-header"),sidebarNav=document.querySelector(".sidebar-nav"),mobileThemeToggleInHeader=sidebarHeader?sidebarHeader.querySelector(".mobile-theme-toggle"):null,desktopThemeToggleInFooter=sidebarFooter?sidebarFooter.querySelector("#theme-toggle"):null,mainProfilePicContainer=sidebarHeader?sidebarHeader.querySelector(".profile-pic-container"):null,mainSidebarTitle=sidebarHeader?sidebarHeader.querySelector(".sidebar-title"):null,hamburgerButton=document.getElementById("mobile-toggle");if(!(sidebar&&content&&sidebarFooter&&sidebarHeader&&sidebarNav&&hamburgerButton&&lastUpdatedElement&&mainContentElement))return;[sidebar,content,sidebarFooter,sidebarHeader,sidebarNav,mainProfilePicContainer,mainSidebarTitle,hamburgerButton,lastUpdatedElement].forEach((el=>{el&&(el.style.cssText="")})),mobileThemeToggleInHeader&&(mobileThemeToggleInHeader.style.cssText=""),desktopThemeToggleInFooter&&(desktopThemeToggleInFooter.style.cssText=""),sidebarNav.querySelector("ul")&&(sidebarNav.querySelector("ul").style.cssText="");const isMobile=window.innerWidth<=767,headerHeightVar=getComputedStyle(document.documentElement).getPropertyValue("--header-height").trim()||"60px",sidebarWidthVar=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width-default").trim()||"280px",lightBorderVar=getComputedStyle(document.documentElement).getPropertyValue("--light-border").trim()||"#dee2e6",darkBorderVar=getComputedStyle(document.documentElement).getPropertyValue("--dark-border").trim()||"#334155",lightSidebarBgVar=getComputedStyle(document.documentElement).getPropertyValue("--light-sidebar-bg").trim()||"#ffffff",darkSidebarBgVar=getComputedStyle(document.documentElement).getPropertyValue("--dark-sidebar-bg").trim()||"#1e293b",lightTextVar=getComputedStyle(document.documentElement).getPropertyValue("--light-text").trim()||"#333333",darkTextVar=getComputedStyle(document.documentElement).getPropertyValue("--dark-text").trim()||"#e2e8f0",sectionPaddingValues=getComputedStyle(document.documentElement).getPropertyValue("--section-padding").trim().split(/\s+/),sectionContentPaddingLeft=sectionPaddingValues.length>1?sectionPaddingValues[1]:sectionPaddingValues[0]||"2rem";if(isMobile)body.classList.contains("single-page-mode")||body.classList.add("single-page-mode"),sidebar.classList.remove("open"),sidebar.style.width="100%",sidebar.style.height=headerHeightVar,sidebar.style.position="fixed",sidebar.style.top="0",sidebar.style.left="0",sidebar.style.flexDirection="column",sidebar.style.overflow="hidden",sidebar.style.borderRight="none",sidebar.style.borderBottom=`1px solid ${body.classList.contains("light-theme")?lightBorderVar:darkBorderVar}`,sidebarHeader.style.display="flex",sidebarHeader.style.flexDirection="row",sidebarHeader.style.alignItems="center",sidebarHeader.style.width="100%",sidebarHeader.style.height=headerHeightVar,sidebarHeader.style.padding="0 1rem",hamburgerButton&&(hamburgerButton.style.display="flex",hamburgerButton.style.order="1",hamburgerButton.style.marginRight="10px"),mainProfilePicContainer&&(mainProfilePicContainer.style.display="flex",mainProfilePicContainer.style.width="40px",mainProfilePicContainer.style.height="40px",mainProfilePicContainer.style.margin="0 10px 0 0",mainProfilePicContainer.style.order="2"),mainSidebarTitle&&(mainSidebarTitle.style.display="block",mainSidebarTitle.style.fontSize="1.2rem",mainSidebarTitle.style.margin="0",mainSidebarTitle.style.order="3",mainSidebarTitle.style.flexGrow="1",mainSidebarTitle.style.marginRight="auto"),mobileThemeToggleInHeader&&(mobileThemeToggleInHeader.style.display="flex",mobileThemeToggleInHeader.style.order="4",mobileThemeToggleInHeader.style.marginLeft="10px",mobileThemeToggleInHeader.style.flexShrink="0"),desktopThemeToggleInFooter&&(desktopThemeToggleInFooter.style.display="none"),sidebarNav.style.display="none",sidebarNav.style.width="100%",sidebarNav.style.padding="1rem",sidebarNav.style.marginTop=headerHeightVar,sidebarNav.style.height=`calc(100vh - ${headerHeightVar})`,sidebarNav.style.overflowY="auto",sidebarNav.querySelector("ul")&&(sidebarNav.querySelector("ul").style.flexDirection="column"),content.style.marginLeft="0",content.style.width="100%",content.style.paddingTop=`calc(${headerHeightVar} + 1rem)`,content.style.paddingBottom="1rem",sidebarFooter.style.display="block",sidebarFooter.style.padding="0",sidebarFooter.style.borderTop="none",sidebarFooter.style.marginTop="0",showAllSections(),setupIntersectionObserver(),content.classList.remove("centered-content");else if(sidebar.classList.remove("open"),body.classList.contains("single-page-mode")){if(sidebar.style.width="100%",sidebar.style.height=headerHeightVar,sidebar.style.position="fixed",sidebar.style.top="0",sidebar.style.left="0",sidebar.style.display="flex",sidebar.style.flexDirection="row",sidebar.style.alignItems="center",sidebar.style.padding=`0 ${sectionContentPaddingLeft}`,sidebar.style.borderRight="none",sidebar.style.borderBottom=`1px solid ${body.classList.contains("light-theme")?lightBorderVar:darkBorderVar}`,sidebar.style.overflow="visible",sidebarHeader.style.display="contents",hamburgerButton&&(hamburgerButton.style.display="flex",hamburgerButton.style.order="1",hamburgerButton.style.marginRight="15px"),mainProfilePicContainer&&(mainProfilePicContainer.style.display="flex",mainProfilePicContainer.style.width="40px",mainProfilePicContainer.style.height="40px",mainProfilePicContainer.style.marginRight="10px",mainProfilePicContainer.style.order="2"),mainSidebarTitle&&(mainSidebarTitle.style.display="block",mainSidebarTitle.style.fontSize="1.3rem",mainSidebarTitle.style.marginRight="1.5rem",mainSidebarTitle.style.order="3",mainSidebarTitle.style.whiteSpace="nowrap"),sidebarNav.style.display="flex",sidebarNav.style.visibility="visible",sidebarNav.style.opacity="1",sidebarNav.style.flexGrow="1",sidebarNav.style.height="100%",sidebarNav.style.alignItems="center",sidebarNav.style.justifyContent="flex-start",sidebarNav.style.paddingTop="0",sidebarNav.style.paddingBottom="0",sidebarNav.style.paddingRight="0",sidebarNav.style.paddingLeft="1rem",sidebarNav.style.margin="0",sidebarNav.style.order="4",sidebarNav.querySelector("ul")){const ul=sidebarNav.querySelector("ul");ul.style.display="flex",ul.style.flexDirection="row",ul.style.alignItems="center",ul.style.justifyContent="flex-start",ul.style.paddingLeft="0",ul.style.margin="0",ul.style.listStyle="none",ul.style.gap="15px"}mobileThemeToggleInHeader&&(mobileThemeToggleInHeader.style.display="flex",mobileThemeToggleInHeader.style.order="5",mobileThemeToggleInHeader.style.marginLeft="auto",mobileThemeToggleInHeader.style.flexShrink="0"),desktopThemeToggleInFooter&&(desktopThemeToggleInFooter.style.display="none"),sidebarFooter.style.display="none",content.style.marginLeft="0",content.style.width="100%",content.style.paddingTop=`calc(${headerHeightVar} + 2rem)`,content.style.paddingBottom="0.1rem",content.classList.add("centered-content"),showAllSections(),setupIntersectionObserver()}else{sidebar.style.width=sidebarWidthVar,sidebar.style.height="100vh",sidebar.style.position="fixed",sidebar.style.top="0",sidebar.style.left="0",sidebar.style.display="flex",sidebar.style.flexDirection="column",sidebar.style.padding="0",sidebar.style.borderRight=`1px solid ${body.classList.contains("light-theme")?lightBorderVar:darkBorderVar}`,sidebar.style.borderBottom="none",sidebar.style.overflowY="auto",sidebarHeader.style.display="flex",sidebarHeader.style.flexDirection="column",sidebarHeader.style.alignItems="center",sidebarHeader.style.padding="2rem 1rem",hamburgerButton&&(hamburgerButton.style.display="flex",hamburgerButton.style.position="absolute",hamburgerButton.style.top="1rem",hamburgerButton.style.right="1rem"),mainProfilePicContainer&&(mainProfilePicContainer.style.display="flex",mainProfilePicContainer.style.width="120px",mainProfilePicContainer.style.height="120px",mainProfilePicContainer.style.margin="1rem 0 1.5rem 0"),mainSidebarTitle&&(mainSidebarTitle.style.fontSize="1.5rem"),mobileThemeToggleInHeader&&(mobileThemeToggleInHeader.style.display="none"),sidebarNav.style.display="block",sidebarNav.style.flex="1",sidebarNav.style.padding="0 1.5rem",sidebarNav.querySelector("ul")&&(sidebarNav.querySelector("ul").style.flexDirection="column"),content.style.marginLeft=sidebarWidthVar,content.style.width=`calc(100% - ${sidebarWidthVar})`,content.style.paddingTop="2rem",content.style.paddingBottom="2rem",content.classList.remove("centered-content"),sidebarFooter.style.display="block",sidebarFooter.style.padding="1.5rem",sidebarFooter.style.marginTop="auto",sidebarFooter.style.borderTop=`1px solid ${body.classList.contains("light-theme")?lightBorderVar:darkBorderVar}`,desktopThemeToggleInFooter&&(desktopThemeToggleInFooter.style.display="flex"),lastUpdatedElement.parentElement!==sidebarFooter&&sidebarFooter.appendChild(lastUpdatedElement),lastUpdatedElement.style.cssText=`\n                display: flex; align-items: center; justify-content: flex-start; \n                font-size: 0.8rem; padding: 0; opacity: 0.7; /* Removed top padding */\n                background-color: transparent; border-top: none; margin-top: 1rem; /* Added margin-top */\n                color: ${body.classList.contains("light-theme")?lightTextVar:darkTextVar};\n            `;const storedSectionId=localStorage.getItem("activeSectionId"),activeSection=storedSectionId&&document.getElementById(storedSectionId)?document.getElementById(storedSectionId):document.querySelector(".section.active")||document.getElementById("home");document.querySelectorAll(".section").forEach((section=>{const isActive=section===activeSection||section.id===storedSectionId;section.style.display=isActive?"block":"none",section.style.opacity=isActive?"1":"0",section.classList.toggle("active",isActive)})),document.querySelectorAll(".nav-link").forEach((link=>{const shouldBeActive=link.getAttribute("data-section")===activeSection.id||link.getAttribute("data-section")===storedSectionId;link.classList.toggle("active",shouldBeActive)})),removeIntersectionObserver()}(isMobile||window.innerWidth>767&&body.classList.contains("single-page-mode"))&&mainContentElement&&lastUpdatedElement&&(lastUpdatedElement.parentElement!==mainContentElement&&mainContentElement.appendChild(lastUpdatedElement),lastUpdatedElement.style.cssText=`\n                display: flex; align-items: center; justify-content: center;\n                width: 100%; padding: 10px 15px; font-size: 0.9rem; text-align: center;\n                margin-top: 3rem; \n                border-top: 1px solid ${body.classList.contains("light-theme")?lightBorderVar:darkBorderVar};\n                background-color: ${body.classList.contains("light-theme")?lightSidebarBgVar:darkSidebarBgVar};\n                color: ${body.classList.contains("light-theme")?lightTextVar:darkTextVar};\n            `),window.dispatchEvent(new CustomEvent("layoutChanged",{detail:{isMobile:isMobile,isSinglePageMode:body.classList.contains("single-page-mode")}}))}function showAllSections(){document.querySelectorAll(".section").forEach((section=>{"stats"!==section.id&&(section.style.display="block",section.style.opacity="1")}))}function hideAllSections(){document.querySelectorAll(".section").forEach((section=>{section.classList.remove("active"),section.style.display="none",section.style.opacity="0"}))}function setupIntersectionObserver(){observer&&removeIntersectionObserver();const body=document.body;if(!body.classList.contains("single-page-mode"))return;const headerHeight=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||60;let scrollTimeout,isScrolling=!1,currentActiveSectionId=localStorage.getItem("activeSectionId")||"home",pendingSectionId=null;const updateActiveSection=sectionId=>{sectionId!==currentActiveSectionId&&"stats"!==sectionId&&(currentActiveSectionId=sectionId,requestAnimationFrame((()=>{document.querySelectorAll(".nav-link").forEach((link=>{link.getAttribute("data-section")===sectionId?link.classList.add("active"):link.classList.remove("active")}))})),history.replaceState(null,null,`#${sectionId}`),localStorage.setItem("activeSectionId",sectionId))};window.addEventListener("scroll",(()=>{isScrolling=!0,clearTimeout(scrollTimeout),scrollTimeout=setTimeout((()=>{isScrolling=!1,pendingSectionId&&(updateActiveSection(pendingSectionId),pendingSectionId=null)}),150)}),{passive:!0});observer=new IntersectionObserver((entries=>{if(body.classList.contains("scrolling-to-section"))return;let mostVisibleEntry=null,maxVisibility=0;if(entries.forEach((entry=>{if("stats"===entry.target.id)return;const rect=entry.boundingClientRect,viewportHeight=window.innerHeight,visibilityRatio=(Math.min(rect.bottom,viewportHeight)-Math.max(rect.top,headerHeight))/rect.height;visibilityRatio>.3&&visibilityRatio>maxVisibility&&(maxVisibility=visibilityRatio,mostVisibleEntry=entry)})),mostVisibleEntry){const sectionId=mostVisibleEntry.target.id;isScrolling?pendingSectionId=sectionId:updateActiveSection(sectionId)}}),{threshold:[.3,.5,.7],rootMargin:`-${headerHeight}px 0px -20% 0px`}),document.querySelectorAll(".section:not(#stats)").forEach((section=>{observer.observe(section)}))}function removeIntersectionObserver(){observer&&(document.querySelectorAll(".section").forEach((section=>observer.unobserve(section))),observer.disconnect(),observer=null)}document.addEventListener("DOMContentLoaded",(function(){determineInitialLayoutMode(),lastUpdatedElement=document.querySelector(".last-updated"),lastUpdatedElement&&(originalLastUpdatedParent=lastUpdatedElement.parentElement),mainContentElement=document.querySelector("main.content"),initMobileNav(),window.addEventListener("resize",handleDeviceLayout);const themeToggle=document.getElementById("theme-toggle"),mobileThemeToggle=document.getElementById("mobile-theme-toggle");themeToggle&&themeToggle.addEventListener("change",(function(){document.body.classList.contains("single-page-mode"),document.querySelector(".sidebar")?.classList.contains("open"),document.querySelector(".section.active")?.id||document.body.classList.contains("single-page-mode")&&document.querySelector(".nav-link.active")?.getAttribute("data-section");mobileThemeToggle&&(mobileThemeToggle.checked=themeToggle.checked)})),mobileThemeToggle&&(mobileThemeToggle.addEventListener("change",(function(){const currentState={isSinglePageMode:document.body.classList.contains("single-page-mode"),sidebarOpen:document.querySelector(".sidebar")?.classList.contains("open"),activeSection:document.querySelector(".section.active")?.id||document.body.classList.contains("single-page-mode")&&document.querySelector(".nav-link.active")?.getAttribute("data-section")||"home"};if(themeToggle)themeToggle.checked=mobileThemeToggle.checked,themeToggle.dispatchEvent(new Event("change",{bubbles:!0}));else{const newTheme=this.checked?"light-theme":"dark-theme";"function"==typeof window.applyTheme&&window.applyTheme(newTheme),"function"==typeof window.preserveLayoutAfterThemeChange&&setTimeout((()=>window.preserveLayoutAfterThemeChange(currentState)),50)}})),setTimeout(syncNavigationWithHash,300))})),window.preserveLayoutAfterThemeChange=function(previousState){const body=document.body;if(window.innerWidth<=767)body.classList.contains("single-page-mode")||body.classList.add("single-page-mode");else if(previousState?.isSinglePageMode&&!body.classList.contains("single-page-mode"))body.classList.add("single-page-mode");else if(!previousState?.isSinglePageMode&&body.classList.contains("single-page-mode")){const storedNavMode=localStorage.getItem("navigationMode");"multiPage"===storedNavMode?body.classList.remove("single-page-mode"):"singlePage"===storedNavMode?body.classList.add("single-page-mode"):previousState?.isSinglePageMode||body.classList.remove("single-page-mode")}if("function"==typeof handleDeviceLayout&&handleDeviceLayout(),previousState?.activeSection)if(document.querySelectorAll(".nav-link").forEach((link=>{link.classList.toggle("active",link.getAttribute("data-section")===previousState.activeSection)})),body.classList.contains("single-page-mode")){if(document.getElementById(previousState.activeSection)){const currentScrollPos=window.pageYOffset;document.querySelectorAll(".section").forEach((section=>{section.classList.toggle("active",section.id===previousState.activeSection)})),setTimeout((()=>{window.scrollTo({top:currentScrollPos,behavior:"auto"})}),50)}}else document.querySelectorAll(".section").forEach((s=>{const isActive=s.id===previousState.activeSection;s.classList.toggle("active",isActive),s.style.display=isActive?"block":"none",s.style.opacity=isActive?"1":"0"}));else{const homeSectionId="home";document.querySelectorAll(".nav-link").forEach((link=>{link.classList.toggle("active",link.getAttribute("data-section")===homeSectionId)})),body.classList.contains("single-page-mode")||document.querySelectorAll(".section").forEach((s=>s.classList.toggle("active",s.id===homeSectionId)))}};let rafId=null;const optimizedScroll=()=>{rafId||(rafId=requestAnimationFrame((()=>{rafId=null})))};function checkTimelineVisibility(){if(!document.body.classList.contains("single-page-mode"))return;const timeline=document.getElementById("timeline");if(!timeline)return;const rect=timeline.getBoundingClientRect(),viewportHeight=window.innerHeight;if(rect.bottom>60&&rect.top<viewportHeight){const visibilityRatio=(Math.min(rect.bottom,viewportHeight)-Math.max(rect.top,60))/rect.height;if(visibilityRatio>.1){const currentActive=document.querySelector(".nav-link.active"),timelineNavLink=document.querySelector('.nav-link[data-section="timeline"]');currentActive&&currentActive!==timelineNavLink&&(visibilityRatio>.2||rect.top<viewportHeight/2&&rect.bottom>viewportHeight/2)&&(document.querySelectorAll(".nav-link").forEach((link=>{link.classList.toggle("active","timeline"===link.getAttribute("data-section"))})),localStorage.setItem("activeSectionId","timeline"),history.replaceState(null,null,"#timeline"))}}}function initPreloader(){const preloader=document.getElementById("preloader"),preloaderText=document.getElementById("preloader-text");if(!preloader)return;if(!sessionStorage.getItem("visited")){if(preloader.style.display="flex",preloaderText){const messages=["Welcome to Abhijeet's Portfolio","Loading awesome content","Preparing something special for you","Almost ready..."];let messageIndex=0,charIndex=0,isDeleting=!1,typingSpeed=100;!function type(){const currentMessage=messages[messageIndex];"none"!==preloader.style.display&&(isDeleting?(preloaderText.textContent=currentMessage.substring(0,charIndex-1),charIndex--,typingSpeed=50):(preloaderText.textContent=currentMessage.substring(0,charIndex+1),charIndex++,typingSpeed=100),isDeleting||charIndex!==currentMessage.length?isDeleting&&0===charIndex&&(isDeleting=!1,messageIndex=(messageIndex+1)%messages.length,typingSpeed=500):(isDeleting=!0,typingSpeed=1e3),"none"!==preloader.style.display&&setTimeout(type,typingSpeed))}()}setTimeout((()=>{preloader.classList.add("fade-out"),setTimeout((()=>{preloader.style.display="none",sessionStorage.setItem("visited","true")}),500)}),3e3)}else preloader.style.display="none"}function showSectionPreloader(message,duration=1e3){return new Promise((resolve=>{const preloader=document.getElementById("preloader"),preloaderText=document.getElementById("preloader-text");preloader&&preloaderText?(preloaderText.textContent=message,preloader.style.display="flex",preloader.classList.remove("fade-out"),setTimeout((()=>{preloader.classList.add("fade-out"),setTimeout((()=>{preloader.style.display="none",preloader.style.visibility="hidden",resolve()}),500)}),duration)):resolve()}))}function initResume(){const resumeTabs=document.querySelectorAll(".resume-tab"),resumeContents=document.querySelectorAll(".resume-content");resumeTabs.length>0&&resumeTabs.forEach((tab=>{tab.addEventListener("click",(function(){const resumeType=this.getAttribute("data-resume");resumeTabs.forEach((t=>t.classList.remove("active"))),this.classList.add("active"),resumeContents.forEach((content=>{content.classList.remove("active")}));const targetContent=document.getElementById(`${resumeType}-resume`);targetContent&&targetContent.classList.add("active")}))}));const viewButtons=document.querySelectorAll(".view-resume-btn"),downloadButtons=document.querySelectorAll(".download-resume-btn");viewButtons.forEach((button=>{button.addEventListener("click",(function(){this.closest(".resume-content").id.replace("-resume","");"function"==typeof trackResumeView&&trackResumeView("view")}))})),downloadButtons.forEach((button=>{button.addEventListener("click",(function(){this.closest(".resume-content").id.replace("-resume","");"function"==typeof trackResumeView&&trackResumeView("download")}))}))}function setupResumeLogger(){window.resumeLogs=[],window.logResumeEvent=function(message){const logEntry=`${(new Date).toISOString()} - ${message}`;window.resumeLogs.push(logEntry)}}function createThemeTransitionOverlay(){if(!document.querySelector(".theme-transition-overlay")){const overlay=document.createElement("div");overlay.className="theme-transition-overlay",document.body.appendChild(overlay)}}function applyTheme(theme){const body=document.body,isSinglePageModePreviously=body.classList.contains("single-page-mode"),previousTheme=body.classList.contains("light-theme")?"light-theme":"dark-theme",overlay=document.querySelector(".theme-transition-overlay");overlay&&(overlay.classList.remove("theme-transition-from-top-right","theme-transition-from-bottom-left"),body.classList.contains("single-page-mode")?overlay.classList.add("theme-transition-from-top-right"):overlay.classList.add("theme-transition-from-bottom-left"),overlay.classList.remove("light-theme","dark-theme"),overlay.classList.add(theme)),overlay&&previousTheme!==theme?(body.classList.add("theme-transition-active"),setTimeout((()=>{"light-theme"===theme?(body.classList.remove("dark-theme"),body.classList.add("light-theme")):(body.classList.remove("light-theme"),body.classList.add("dark-theme")),isSinglePageModePreviously&&!body.classList.contains("single-page-mode")&&body.classList.add("single-page-mode"),setTimeout((()=>{body.classList.remove("theme-transition-active")}),800)}),50)):("light-theme"===theme?(body.classList.remove("dark-theme"),body.classList.add("light-theme")):(body.classList.remove("light-theme"),body.classList.add("dark-theme")),isSinglePageModePreviously&&!body.classList.contains("single-page-mode")&&body.classList.add("single-page-mode"));const isLight="light-theme"===theme,logoImg=document.getElementById("sidebar-logo");logoImg&&(isLight?(logoImg.src="assets/images/icons/light1.svg",logoImg.alt="Abhijeet Logo - Light Theme"):(logoImg.src="assets/images/icons/dark1.svg",logoImg.alt="Abhijeet Logo - Dark Theme"));const mainThemeToggle=document.getElementById("theme-toggle"),mobileHeaderThemeToggle=document.getElementById("mobile-theme-toggle"),themeLabel=document.getElementById("theme-label");mainThemeToggle&&(mainThemeToggle.checked=isLight),mobileHeaderThemeToggle&&(mobileHeaderThemeToggle.checked=isLight),themeLabel&&(themeLabel.textContent=isLight?"Light Mode":"Dark Mode"),localStorage.setItem("theme",theme)}function initTheme(){const mainThemeToggle=document.getElementById("theme-toggle"),mobileHeaderThemeToggle=document.getElementById("mobile-theme-toggle"),savedTheme=localStorage.getItem("theme");let initialTheme;function handleThemeToggleChange(isChecked){const newTheme=isChecked?"light-theme":"dark-theme",currentState={isSinglePageMode:document.body.classList.contains("single-page-mode"),sidebarOpen:document.querySelector(".sidebar")?.classList.contains("open"),activeSection:document.querySelector(".section.active")?.id||(document.body.classList.contains("single-page-mode")?document.querySelector(".nav-link.active")?.getAttribute("data-section")||"home":localStorage.getItem("activeSectionId")||"home")};applyTheme(newTheme),"function"==typeof window.preserveLayoutAfterThemeChange?setTimeout((()=>window.preserveLayoutAfterThemeChange(currentState)),50):"function"==typeof window.handleDeviceLayout&&setTimeout((()=>window.handleDeviceLayout()),50)}savedTheme?initialTheme=savedTheme:(initialTheme=window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light-theme":"dark-theme",localStorage.setItem("theme",initialTheme)),applyTheme(initialTheme),mainThemeToggle&&mainThemeToggle.addEventListener("change",(function(){mobileHeaderThemeToggle&&(mobileHeaderThemeToggle.checked=this.checked),handleThemeToggleChange(this.checked)})),mobileHeaderThemeToggle&&mobileHeaderThemeToggle.addEventListener("change",(function(){mainThemeToggle&&(mainThemeToggle.checked=this.checked),handleThemeToggleChange(this.checked)}))}function initTimeline(){const yearMarkers=document.querySelectorAll(".timeline-year-marker"),timelineBlocks=document.querySelectorAll(".timeline-block");yearMarkers.length>0&&(yearMarkers.forEach((marker=>{marker.addEventListener("click",(function(){const year=this.getAttribute("data-year");yearMarkers.forEach((m=>m.classList.remove("active"))),this.classList.add("active");const yearSection=document.getElementById(`timeline-year-${year}`);yearSection&&yearSection.scrollIntoView({behavior:"smooth"})}))})),document.querySelector(".timeline-year-marker.active")||yearMarkers[0].classList.add("active")),timelineBlocks.length>0&&(hideBlocks(timelineBlocks),window.addEventListener("scroll",(function(){showBlocks(timelineBlocks)})))}function hideBlocks(blocks){blocks.forEach((function(block){block.getBoundingClientRect().top>.8*window.innerHeight?block.classList.remove("visible"):block.classList.add("visible")}))}function showBlocks(blocks){blocks.forEach((function(block){!block.classList.contains("visible")&&block.getBoundingClientRect().top<=.8*window.innerHeight&&block.classList.add("visible")}))}function setupTimelineLogger(){window.timelineLogs=[],window.logTimelineEvent=function(message){const logEntry=`${(new Date).toISOString()} - ${message}`;window.timelineLogs.push(logEntry)}}window.addEventListener("scroll",debounce(checkTimelineVisibility,50),{passive:!0}),window.addEventListener("scroll",optimizedScroll,{passive:!0}),window.initMobileNav=initMobileNav,window.handleDeviceLayout=handleDeviceLayout,window.showAllSections=showAllSections,window.hideAllSections=hideAllSections,window.syncNavigationWithHash=syncNavigationWithHash,document.addEventListener("DOMContentLoaded",(function(){initPreloader()})),window.showSectionPreloader=showSectionPreloader,document.addEventListener("DOMContentLoaded",(function(){initResume(),setupResumeLogger()})),window.initResume=initResume,document.addEventListener("DOMContentLoaded",(function(){initTheme(),createThemeTransitionOverlay()})),window.applyTheme=applyTheme,window.initTheme=initTheme,document.addEventListener("DOMContentLoaded",(function(){initTimeline(),setupTimelineLogger()})),window.initTimeline=initTimeline;